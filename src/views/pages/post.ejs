<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/head'); %>
    <link rel="stylesheet" href="/css/post.css" />
    <title>API CRUD MongoDB Atlas</title>
</head>

<body>
    <%- include('../partials/menu'); %>

    <main>
        <h2>Post</h2>
        <hr/>
        <% if (postId) { %>
            <form method="POST" action="/api/posts">
        <% } else { %>
            <%- `<form method="POST" action="/api/posts/${postId}">`%>
        <% } %>
            <label for="title">Title:</label>
            <input type="text" required class="field" id="title" name="title" placeholder="Post title" maxlength="30" />
            
            <label for="content">Content:</label>
            <textarea required name="content" class="field" id="content" cols="30" rows="10" placeholder="Post content..."></textarea>
            
            <label for="">Author:</label>
            <input type="text" class="field" id="author" name="author" placeholder="Anonymous" maxlength="20" />
            
            <label for="publishDate">Publish date:</label>
            <input type="date" class="field" id="publishDate" name="publishDate" />
            
            <a href="/manager" class="btn btn-secondary">Cancel</a>
            <% if (postId) { %>
                <%- `<a href="/api/posts/${postId}/delete" class="btn btn-danger">Delete</a>`%>
            <% } %>
            <input type="submit" value="Save" class="btn btn-primary" />
        </form>
    </main>

    <%- include('../partials/footer'); %>
</body>

</html>
